{% extends 'clinic/dashboard_base.html' %}
{% load static %}
{% block title %}Owners - ePetCare{% endblock %}

{% block head_extra %}
<link rel="stylesheet" href="{% static 'clinic/dashboard-common.css' %}?v={% now 'U' %}">
<style>
  .main-card {
    background: #fff;
    border-radius: 16px;
    border: 1px solid var(--owner-border, #e8e4df);
    overflow: hidden;
  }
  .card-head {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    border-bottom: 1px solid var(--owner-border, #e8e4df);
  }
  .card-head h2 {
    font-size: 18px;
    font-weight: 600;
    color: var(--owner-text, #573D1C);
    margin: 0;
  }
  .modern-table {
    width: 100%;
    border-collapse: collapse;
  }
  .modern-table th {
    text-align: left;
    padding: 14px 20px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--owner-text-secondary, #8B7355);
    background: var(--owner-bg, #FFF5E9);
    border-bottom: 1px solid var(--owner-border, #e8e4df);
  }
  .modern-table td {
    padding: 16px 20px;
    font-size: 14px;
    color: var(--owner-text, #573D1C);
    border-bottom: 1px solid var(--owner-border, #e8e4df);
  }
  .modern-table tbody tr:hover {
    background: var(--owner-surface-hover, #faf8f5);
  }
  .modern-table tbody tr:last-child td {
    border-bottom: none;
  }
  .modern-table a {
    color: var(--owner-primary, #d48b3e);
    text-decoration: none;
    font-weight: 500;
  }
  .modern-table a:hover {
    text-decoration: underline;
  }
  .btn-add {
    background: var(--owner-primary, #d48b3e);
    color: #fff;
    padding: 8px 16px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 14px;
    transition: background 0.2s;
  }
  .btn-add:hover {
    background: var(--owner-text, #573D1C);
  }
  .empty-state {
    text-align: center;
    padding: 48px 20px;
    color: var(--owner-text-secondary, #8B7355);
  }
</style>
{% endblock %}

{% block dash_content %}
<!-- Hero section -->
<section class="dash-hero">
  <div class="hero-main">
    <div class="hero-title-row">
      <h1 class="hero-title">Pet Owners</h1>
      <a class="btn btn-primary" href="{% url 'owner_create' %}">+ New Owner</a>
    </div>
    <div class="hero-meta-line">
      <span class="meta-item">Manage registered pet owners.</span>
    </div>
  </div>
  <div class="hero-divider"></div>
</section>

<!-- Summary tiles -->
<section class="summary-tiles">
  <div class="tile">
    <div class="tile-head">
      <div class="tile-icon">ðŸ‘¥</div>
      <div class="tile-text">
        <div class="tile-title">Total Owners</div>
        <div class="tile-sub">Registered</div>
      </div>
    </div>
    <div class="tile-metric">{{ owners|length }}</div>
  </div>
</section>

<div class="main-card">
  <div class="card-head">
    <h2>All Owners</h2>
    <a class="btn-add" href="{% url 'owner_create' %}">+ Add Owner</a>
  </div>
  
  <div class="modern-table-wrapper">
    <table class="modern-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Phone</th>
        </tr>
      </thead>
      <tbody>
        {% for owner in owners %}
          <tr>
            <td><a href="{% url 'owner_detail' owner.pk %}">{{ owner.full_name }}</a></td>
            <td>{{ owner.email|default:'â€”' }}</td>
            <td>{{ owner.phone|default:'â€”' }}</td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="3">
              <div class="empty-state">No owners registered yet.</div>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}

