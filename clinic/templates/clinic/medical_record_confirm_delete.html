{% extends 'clinic/dashboard_base.html' %}
{% load static %}
{% block title %}Delete Medical Record - ePetCare{% endblock %}

{% block head_extra %}
<style>
  .delete-card {
    background: #fff;
    border-radius: 16px;
    border: 1px solid var(--owner-border, #e8e4df);
    max-width: 520px;
    margin: 40px auto;
    overflow: hidden;
  }
  .delete-header {
    background: linear-gradient(135deg, #fef2f2, #fee2e2);
    padding: 24px;
    border-bottom: 1px solid #fecaca;
  }
  .delete-header h2 {
    font-size: 20px;
    font-weight: 600;
    color: #dc2626;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .delete-body {
    padding: 24px;
  }
  .delete-body p {
    font-size: 14px;
    color: var(--owner-text, #573D1C);
    margin: 0 0 16px 0;
    line-height: 1.6;
  }
  .record-info {
    background: var(--owner-bg, #FFF5E9);
    border-radius: 10px;
    padding: 16px;
    margin: 16px 0;
  }
  .record-row {
    display: flex;
    margin-bottom: 10px;
  }
  .record-row:last-child {
    margin-bottom: 0;
  }
  .record-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--owner-text-secondary, #8B7355);
    width: 100px;
    flex-shrink: 0;
  }
  .record-value {
    font-size: 14px;
    color: var(--owner-text, #573D1C);
  }
  .warning-box {
    background: #fffbeb;
    border: 1px solid #fde68a;
    border-radius: 8px;
    padding: 12px 14px;
    font-size: 13px;
    color: #92400e;
    margin-top: 16px;
  }
  .delete-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    padding: 20px 24px;
    border-top: 1px solid var(--owner-border, #e8e4df);
    background: #fafafa;
  }
  .btn-cancel {
    background: transparent;
    color: var(--owner-text-secondary, #8B7355);
    padding: 10px 20px;
    border: 1px solid var(--owner-border, #e8e4df);
    border-radius: 8px;
    font-weight: 500;
    font-size: 14px;
    text-decoration: none;
    transition: all 0.2s;
  }
  .btn-cancel:hover {
    background: #fff;
    border-color: var(--owner-text-secondary);
  }
  .btn-delete {
    background: #dc2626;
    color: #fff;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: background 0.2s;
  }
  .btn-delete:hover {
    background: #b91c1c;
  }
</style>
{% endblock %}

{% block dash_content %}
<div class="delete-card">
  <div class="delete-header">
    <h2>⚠️ Delete Medical Record</h2>
  </div>
  <div class="delete-body">
    <p>You are about to permanently delete this medical record:</p>
    
    <div class="record-info">
      <div class="record-row">
        <span class="record-label">Pet:</span>
        <span class="record-value">{{ record.pet.name }}</span>
      </div>
      <div class="record-row">
        <span class="record-label">Date:</span>
        <span class="record-value">{{ record.date|date:"M d, Y" }}</span>
      </div>
      <div class="record-row">
        <span class="record-label">Type:</span>
        <span class="record-value">{{ record.record_type }}</span>
      </div>
      <div class="record-row">
        <span class="record-label">Description:</span>
        <span class="record-value">{{ record.description|truncatechars:100 }}</span>
      </div>
    </div>
    
    <div class="warning-box">
      ⚠️ <strong>Warning:</strong> This action cannot be undone. The medical record will be permanently removed.
    </div>
  </div>
  
  <form method="post" class="delete-actions">
    {% csrf_token %}
    <a href="{% url 'pet_detail' record.pet.pk %}" class="btn-cancel">Cancel</a>
    <button type="submit" class="btn-delete">Delete Record</button>
  </form>
</div>
{% endblock %}
