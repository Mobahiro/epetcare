{% extends 'clinic/base.html' %}
{% block title %}Appointments - ePetCare{% endblock %}
{% block content %}
<div class="toolbar">
  <h2>Appointments</h2>
  <a class="btn" href="{% url 'appointment_create' %}">+ New Appointment</a>
</div>
<table>
  <thead>
    <tr><th>Date</th><th>Pet</th><th>Reason</th><th>Status</th></tr>
  </thead>
  <tbody>
    {% for a in appointments %}
      <tr>
        <td>{{ a.date_time|date:"Y-m-d H:i" }}</td>
        <td>{{ a.pet.name }}</td>
        <td>{{ a.reason }}</td>
        <td>
          {% if a.status == 'scheduled' %}
            <span class="badge scheduled">Scheduled</span>
          {% elif a.status == 'completed' %}
            <span class="badge completed">Completed</span>
          {% elif a.status == 'cancelled' %}
            <span class="badge cancelled">Cancelled</span>
          {% else %}
            {{ a.get_status_display }}
          {% endif %}
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="4">No appointments yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}

