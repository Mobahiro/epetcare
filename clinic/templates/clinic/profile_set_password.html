{% extends 'clinic/base_auth.html' %}
{% load static %}
{% block title %}Set New Password - ePetCare{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'clinic/dashboard-common.css' %}?v={% now 'U' %}">
{% endblock %}

{% block content %}
<section class="dash-hero">
  <div class="hero-main">
    <div class="hero-title-row">
      <h1 class="hero-title">Set New Password</h1>
    </div>
    <div class="hero-meta-line">
      <span class="meta-item">Create a strong password for your account</span>
    </div>
  </div>
  <div class="hero-divider"></div>
</section>

<div class="main-card" style="max-width: 600px; margin: 40px auto;">
  <div style="padding: 30px;">
    <form method="post">
      {% csrf_token %}

      <div class="form-group">
        <label for="{{ form.old_password.id_for_label }}">Current Password:</label>
        {{ form.old_password }}
        {% if form.old_password.errors %}
          <div class="error-message">{{ form.old_password.errors }}</div>
        {% endif %}
        <small style="display: block; margin-top: 5px; color: #666;">
          Enter your current password to confirm
        </small>
      </div>

      <div class="form-group">
        <label for="{{ form.new_password1.id_for_label }}">New Password:</label>
        {{ form.new_password1 }}
        {% if form.new_password1.errors %}
          <div class="error-message">{{ form.new_password1.errors }}</div>
        {% endif %}
        <small style="display: block; margin-top: 5px; color: #666;">
          Must be at least 8 characters long
        </small>
      </div>

      <div class="form-group">
        <label for="{{ form.new_password2.id_for_label }}">Confirm New Password:</label>
        {{ form.new_password2 }}
        {% if form.new_password2.errors %}
          <div class="error-message">{{ form.new_password2.errors }}</div>
        {% endif %}
      </div>

      {% if form.non_field_errors %}
        <div class="error-message" style="margin-bottom: 15px;">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <div class="form-actions" style="margin-top: 30px;">
        <button type="submit" class="btn btn-primary">Change Password</button>
        <a href="{% url 'profile' %}" class="btn btn-secondary">Cancel</a>
      </div>
    </form>

    <div style="margin-top: 25px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 3px solid var(--accent, #E28413);">
      <p style="margin: 0; font-size: 14px; color: #555;">
        <strong>Password Requirements:</strong>
      </p>
      <ul style="margin: 10px 0 0 20px; font-size: 13px; color: #666;">
        <li>At least 8 characters long</li>
        <li>Cannot be too similar to your other personal information</li>
        <li>Cannot be a commonly used password</li>
        <li>Cannot be entirely numeric</li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
